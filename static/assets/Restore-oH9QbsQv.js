import{G as n,H as i,J as c,ap as l,ab as m,A as u,j as o}from"./index-Cx9aHWms.js";import{A as p}from"./AlreadyHaveAccount-DHEPUX3t.js";import{I as d}from"./IconInfiniteLoading-BhfJWl73.js";import"./antd-bK47dtYc.js";import{F as f,a as h,S as x}from"./formik.esm-ADxEa5mi.js";import{A as j}from"./AuthEmailInput-D-YlC4Gb.js";import{u as y}from"./useMutation-D6aZmw1J.js";import"./react-day-picker-BMg2DGmo.js";import"./cn-Bz47sbbS.js";import"./types-CKSFNBik.js";const S=n.object({email:n.string().email()}),b=async a=>{const t="http://localhost:8008/kzen/",s="022569013";try{return await i.post(`${t}restore`,{credentials:"include",json:a.formData,method:"POST",headers:{"x-api-key":s,"Content-Type":"application/json"}}).json()}catch(e){return await c(e)}},g=()=>{const a=l(),t=y({mutationFn:({formData:e})=>b({formData:e})});return{onSubmit:(e,r)=>{t.mutate({formData:e},{onError:()=>{},onSuccess:()=>{r.resetForm(),m(`
                        A link has been sent to your email.
                        Please check your inbox and click on the link to continue the process.
                        Thank you!`),a(`/${u.LOGIN}`)},onSettled:()=>{r.setSubmitting(!1)}})}}},k=()=>({validate:t=>{const s=S.safeParse(t),e={};if(!s.success)for(const r of s.error.issues)e[r.path[0]]=r.message;return t.email.length||(e.email="Required field"),e}}),R=()=>({initialValues:{email:""}}),V=()=>{const{onSubmit:a}=g(),{validate:t}=k(),{initialValues:s}=R();return o.jsx("div",{className:"flex flex-col gap-10 mt-10 items-center",children:o.jsx(f,{initialValues:s,validate:t,onSubmit:a,children:({isSubmitting:e})=>o.jsxs(h,{className:"flex flex-col gap-5",children:[o.jsx(j,{}),o.jsx(x,{className:"w-full",type:"submit",disabled:e,startIcon:e&&o.jsx(d,{className:"text-slate-500 w-5 h-5"}),children:"Restore"}),o.jsx(p,{})]})})})};export{V as default};
//# sourceMappingURL=Restore-oH9QbsQv.js.map
