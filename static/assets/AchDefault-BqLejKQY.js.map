{"version":3,"file":"AchDefault-BqLejKQY.js","sources":["../../src/modules/achievements/components/achs-by-filter/ach-list/components/ach/ach-default/components/AchContextMenu.tsx","../../src/modules/achievements/components/achs-by-filter/ach-list/components/ach/ach-default/AchDefault.tsx"],"sourcesContent":["import { XMenuDropdown } from '@/components-x/x-dropdown/XMenuDropdown'\nimport { XMenuItem } from '@/components-x/x-dropdown/XMenuItem'\nimport { AchIsArchived } from '@/modules/achievements/components-shared/ach-is-archived/AchIsArchived'\nimport { AchIsDeleted } from '@/modules/achievements/components-shared/ach-is-deleted/AchIsDeleted'\nimport { AchIsFavorite } from '@/modules/achievements/components-shared/ach-is-favorite/AchIsFavorite'\nimport { AchToggleEdit } from '@/modules/achievements/components-shared/AchToggleEdit'\nimport { AchView } from '@/modules/achievements/components-shared/AchView'\nimport type { IAch } from '@/modules/achievements/services/types'\n\nexport const AchContextMenu: React.FC<{ onClose: () => void; ach: IAch }> = ({ onClose, ach }) => {\n    return (\n        <XMenuDropdown>\n            <XMenuItem>\n                <AchIsFavorite\n                    onClose={onClose}\n                    id={ach.id}\n                    isFavorite={!!ach.is_favorite}\n                    label={\n                        <span className='flex w-[110px] justify-start capitalize'>\n                            {ach.is_favorite ? 'Unfavorite' : 'Favorite'}\n                        </span>\n                    }\n                />\n            </XMenuItem>\n            <XMenuItem>\n                <AchView onClose={onClose} id={ach.id} />\n            </XMenuItem>\n            <XMenuItem>\n                <AchToggleEdit\n                    context='menu'\n                    onClose={onClose}\n                    id={ach.id}\n                    label={<span className='flex w-[110px] justify-start capitalize'>Edit</span>}\n                />\n            </XMenuItem>\n            <XMenuItem>\n                <AchIsArchived\n                    onClose={onClose}\n                    id={ach.id}\n                    isArchived={!!ach.archived}\n                    label={\n                        <span className='flex w-[110px] justify-start capitalize'>\n                            {ach.archived ? 'Unarchive' : 'Archive'}\n                        </span>\n                    }\n                />\n            </XMenuItem>\n            <XMenuItem>\n                <AchIsDeleted\n                    onClose={onClose}\n                    id={ach.id}\n                    deletedAt={!!ach.deleted_at}\n                    label={\n                        <span className='flex w-[110px] justify-start capitalize'>\n                            {ach.deleted_at ? 'Restore' : 'Move to bin'}\n                        </span>\n                    }\n                />\n            </XMenuItem>\n        </XMenuDropdown>\n    )\n}\n","import { XDropdown } from '@/components-x/x-dropdown/XDropdown'\nimport { AchContextMenu } from './components/AchContextMenu'\nimport type { IAch } from '@/modules/achievements/services/types'\nimport { useTogglePopoverState } from '@/hooks/useTogglePopoverState.hook'\nimport { capitalize } from 'lodash-es'\nimport { AchStatus } from '../shared-components/ach-status/AchStatus'\nimport { cn } from '@/helpers/cn'\nimport styles from '../shared-components/Ach.module.scss'\nimport { useAchEditorDialog$ } from '@/modules/achievements/components/ach-editor-dialog/mst/provider'\nimport Tippy from '@tippyjs/react'\n\nexport const AchDefault: React.FC<{ ach: IAch }> = ({ ach }) => {\n    const { onOpenViewMode } = useAchEditorDialog$()\n    const { popoverState, setPopoverState } = useTogglePopoverState()\n\n    return (\n        <Tippy content={capitalize(ach.title)} interactive={true} interactiveBorder={20} delay={100} className=''>\n            <div id={`ach-${ach.id}`} className={cn(styles['ach'], `flex-[30%] min-w-[120px] max-w-[120px]`)}>\n                <XDropdown\n                    open={popoverState}\n                    onOpenChange={() => {\n                        setPopoverState(!popoverState)\n                    }}\n                    trigger={['contextMenu']}\n                    dropdownRender={() => <AchContextMenu onClose={() => setPopoverState(false)} ach={ach} />}\n                    destroyPopupOnHide\n                >\n                    <div\n                        onClick={() => {\n                            onOpenViewMode({ edit_id: ach.id })\n                        }}\n                        className='flex cursor-pointer relative'\n                    >\n                        <img\n                            src={`${import.meta.env['VITE_FIRE_BUNNY_STORAGE']}achievements/${ach.img_path}`}\n                            className={cn(\n                                'animate-opacity-3 w-full flex h-full rounded-lg',\n                                ach.freezed && 'opacity-50',\n                            )}\n                            alt={ach.title}\n                            loading='lazy'\n                            decoding='async'\n                        />\n                    </div>\n                </XDropdown>\n                <AchStatus ach={ach} />\n            </div>\n        </Tippy>\n    )\n}\n\nexport default AchDefault\n"],"names":["AchContextMenu","onClose","ach","XMenuDropdown","jsx","XMenuItem","AchIsFavorite","id","is_favorite","AchView","AchToggleEdit","AchIsArchived","archived","AchIsDeleted","deleted_at","AchDefault","onOpenViewMode","useAchEditorDialog$","popoverState","setPopoverState","useTogglePopoverState","Tippy","capitalize","title","jsxs","cn","styles","XDropdown","edit_id","img_path","freezed","AchStatus"],"mappings":"0rBASO,MAAMA,EAA+DA,CAAC,CAAEC,QAAAA,EAASC,IAAAA,CAAI,WAEnFC,EACG,CAAA,SAAA,CAACC,EAAAA,IAAAC,EAAA,CACG,eAACC,EACG,CAAA,QAAAL,EACA,GAAIC,EAAIK,GACR,WAAY,CAAC,CAACL,EAAIM,YAClB,MACIJ,EAAAA,IAAC,QAAK,UAAU,0CACXF,WAAIM,YAAc,aAAe,UACtC,CAAA,CAAA,CACH,CAET,CAAA,EACAJ,EAAAA,IAACC,GACG,SAACD,EAAA,IAAAK,EAAA,CAAQ,QAAAR,EAAkB,GAAIC,EAAIK,GAAG,CAC1C,CAAA,QACCF,EACG,CAAA,SAAAD,EAAA,IAACM,EACG,CAAA,QAAQ,OACR,QAAAT,EACA,GAAIC,EAAIK,GACR,MAAQH,EAAAA,IAAA,OAAA,CAAK,UAAU,0CAA0C,SAAA,MAAA,CAAI,CAAQ,CAAA,EAErF,EACAA,EAAAA,IAACC,GACG,SAACD,EAAAA,IAAAO,EAAA,CACG,QAAAV,EACA,GAAIC,EAAIK,GACR,WAAY,CAAC,CAACL,EAAIU,SAClB,MACKR,EAAAA,IAAA,OAAA,CAAK,UAAU,0CACXF,WAAIU,SAAW,YAAc,SAClC,CAAA,CAAA,CACH,CAET,CAAA,EACAR,EAAAA,IAACC,GACG,SAACD,EAAAA,IAAAS,EAAA,CACG,QAAAZ,EACA,GAAIC,EAAIK,GACR,UAAW,CAAC,CAACL,EAAIY,WACjB,MACKV,EAAAA,IAAA,OAAA,CAAK,UAAU,0CACXF,WAAIY,WAAa,UAAY,aAClC,CAAA,CACH,CAAA,CAET,CAAA,CAAA,EACJ,EChDKC,EAAsCA,CAAC,CAAEb,IAAAA,CAAI,IAAM,CACtD,KAAA,CAAEc,eAAAA,GAAmBC,EAAoB,EACzC,CAAEC,aAAAA,EAAcC,gBAAAA,GAAoBC,EAAsB,EAEhE,OACKhB,EAAAA,IAAAiB,EAAA,CAAM,QAASC,EAAWpB,EAAIqB,KAAK,EAAG,YAAa,GAAM,kBAAmB,GAAI,MAAO,IAAK,UAAU,GACnG,SAAAC,EAAAA,KAAC,MAAI,CAAA,GAAK,OAAMtB,EAAIK,EAAG,GAAG,UAAWkB,EAAGC,EAAO,IAAS,wCAAuC,EAC3F,SAAA,OAACC,EACG,CAAA,KAAMT,EACN,aAAc,IAAM,CAChBC,EAAgB,CAACD,CAAY,CAAA,EAEjC,QAAS,CAAC,aAAa,EACvB,eAAgB,UAAOlB,EAAe,CAAA,QAAS,IAAMmB,EAAgB,EAAK,EAAG,IAAAjB,CAAY,CAAA,EACzF,mBAAkB,GAElB,SAACE,MAAA,MACG,CAAA,QAAS,IAAM,CACIY,EAAA,CAAEY,QAAS1B,EAAIK,EAAAA,CAAI,CAEtC,EAAA,UAAU,+BAEV,eAAC,MACG,CAAA,IAAM,yDAA4DL,EAAI2B,QAAS,GAC/E,UAAWJ,EACP,kDACAvB,EAAI4B,SAAW,YACnB,EACA,IAAK5B,EAAIqB,MACT,QAAQ,OACR,SAAS,OAAA,CAAO,EAExB,EACJ,EACCnB,MAAA2B,GAAU,IAAA7B,CAAS,CAAA,CAAA,CAAA,CACxB,CAAA,CACJ,CAER"}