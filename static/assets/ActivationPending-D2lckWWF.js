import{H as r,J as l,L as u,ab as d,ap as m,aC as p,K as a,o as h,j as n}from"./index-Cx9aHWms.js";import{r as s}from"./antd-bK47dtYc.js";import{u as x}from"./useMutation-D6aZmw1J.js";import{d as f}from"./debounce-CqMFxJgi.js";import{I as v}from"./IconInfiniteLoading-BhfJWl73.js";import"./react-day-picker-BMg2DGmo.js";const b=async e=>{const t="http://localhost:8008/kzen/",i="022569013";try{await r.post(`${t}register/resend-activation-link`,{credentials:"include",json:{email:e.email},headers:{"x-api-key":i}}).json()}catch(o){return await l(o)}},k=e=>{const t=s.useRef(!0),i=s.useCallback(f(()=>{e==null||e()},6e4),[e]);return s.useCallback(()=>{t.current?(e==null||e(),t.current=!1):i()},[i,e])},j=e=>{const{email:t}=e,i=x({mutationFn:({email:c})=>b({email:c}),onError:()=>{u("Sending activation link failed")},onSuccess:()=>{d("Email with activation link will appear within a minute")}});return{resendActivationLink:k(()=>{i.mutate({email:t})})}},y=()=>{const e=m(),t=p(),{fetchGuestData:i}=a(),{resendActivationLink:o}=j({email:t});return s.useEffect(()=>{i({navigate:e})},[]),{resendActivationLink:o}},S=h(()=>{const{resendActivationLink:e}=y(),{user:t,userIsLoading:i}=a();return i?n.jsx(v,{className:"absolute-center w-10 h-10 text-blue-500 duration-300"}):n.jsxs("div",{className:"px-5 text-sm font-inter",children:[n.jsx("p",{children:"Registration Successful "}),n.jsxs("p",{children:["Dear ",t==null?void 0:t.name,", Welcome to Kzen!"]}),n.jsx("br",{}),n.jsxs("p",{children:["Email with activation link has been sent to",n.jsx("span",{className:"text-blue-500 pl-1",children:t==null?void 0:t.email}),"."]}),n.jsx("p",{children:"To complete your registration and activate your account, please check your inbox and follow the instructions in the email."}),n.jsx("p",{children:" If you don’t see the email in your inbox, please check your spam or junk folder."}),n.jsx("p",{children:" If you still haven’t received it, click the button below."}),n.jsx("p",{children:n.jsx("button",{type:"button",className:"underline p-0 m-0 cursor-pointer underline-offset-4 hover:text-blue-500 duration-300",onClick:e,children:"Resend activation email"})})]})});export{S as default};
//# sourceMappingURL=ActivationPending-D2lckWWF.js.map
